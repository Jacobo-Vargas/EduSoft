<div *ngFor="let categoria of categoriasCursos; let catIndex = index" class="mb-5">
  <h2 class="mb-3 text-primary fw-bold">{{ categoria.nombre }}</h2>

  <div id="cursoCarousel{{catIndex}}"
       class="carousel slide custom-carousel"
       data-bs-ride="carousel"
       data-bs-interval="5000">

    <!-- Indicadores -->
    <div class="carousel-indicators">
      <button *ngFor="let grupo of categoria.gruposCursos; let i = index"
              type="button"
              [attr.data-bs-target]="'#cursoCarousel' + catIndex"
              [attr.data-bs-slide-to]="i"
              [class.active]="i === 0"
              aria-label="Slide {{i + 1}}">
      </button>
    </div>

    <!-- Contenido -->
    <div class="carousel-inner">
      <div class="carousel-item"
           *ngFor="let grupo of categoria.gruposCursos; let i = index"
           [class.active]="i === 0">
        <div class="d-flex justify-content-center">
          
          <div *ngFor="let curso of grupo"
               class="card shadow-sm border-0 mx-2">
            
            <img [src]="curso.coverUrl"
                 class="card-img-top"
                 [alt]="curso.title">

            <div class="card-body">
              <h5 class="card-title">{{ curso.title }}</h5>

              <p class="card-text carousel-card__description"
                 [title]="curso.description">
                {{ curso.description || 'Sin descripci√≥n' }}
              </p>

              <a [routerLink]="['/course', curso.id]"
                 class="btn btn-primary">Inscribirse</a>
            </div>
          </div>

        </div>
      </div>
    </div>

    <!-- Controles -->
    <button class="carousel-control-prev"
            type="button"
            [attr.data-bs-target]="'#cursoCarousel' + catIndex"
            data-bs-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Anterior</span>
    </button>
    <button class="carousel-control-next"
            type="button"
            [attr.data-bs-target]="'#cursoCarousel' + catIndex"
            data-bs-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="visually-hidden">Siguiente</span>
    </button>
  </div>
</div>
